<generic:PopupBody x:Class="BfmeFoundationProject.AllInOneLauncher.Popups.InstallGamePopup"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:BfmeFoundationProject.AllInOneLauncher.Popups"
             xmlns:elements="clr-namespace:BfmeFoundationProject.AllInOneLauncher.Elements"
             xmlns:system="clr-namespace:System;assembly=netstandard"
             xmlns:generic="clr-namespace:BfmeFoundationProject.AllInOneLauncher.Elements.Generic"
             mc:Ignorable="d" 
             Width="700" HorizontalAlignment="Center" VerticalAlignment="Center">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <TextBlock Name="TextTitleInstall" Grid.Row="0" Text="{DynamicResource InstallGamePopupTitle}" Foreground="White" FontSize="20" FontWeight="Medium" HorizontalAlignment="Left" VerticalAlignment="Center" />
        <Rectangle Grid.Row="1" Fill="White" Opacity="0.2" Margin="0,10,0,0" VerticalAlignment="Top" Height="1"/>
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="/Resources/Images/BFME1LanguageSupport.png" Stretch="None" Width="450" Height="270">
                    <Image.OpacityMask>
                        <VisualBrush>
                            <VisualBrush.Visual>
                                <Border Background="Black" SnapsToDevicePixels="True" CornerRadius="{Binding CornerRadius, RelativeSource={RelativeSource AncestorType=Border}}" Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}" Height="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=Border}}"/>
                            </VisualBrush.Visual>
                        </VisualBrush>
                    </Image.OpacityMask>
                </Image>
            </Grid>
            <Grid Grid.Column="2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="5"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="5"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Row="0" FontSize="14" FontWeight="SemiBold" Text="{DynamicResource InstallGamePopupLanguage}" Foreground="white"/>
                    <elements:DropdownPicker Grid.Row="2" x:Name="LanguageDropdown" Margin="5" VerticalAlignment="Center" FontSize="20" Height="40" ColorStyle="Navy" Corners="4">
                        <elements:DropdownPicker.Options>
                            <system:String>English</system:String>
                            <system:String>French</system:String>
                            <system:String>German</system:String>
                            <system:String>Italian</system:String>
                            <system:String>Spanish</system:String>
                            <system:String>Swedish</system:String>
                            <system:String>Dutch</system:String>
                            <system:String>Polish</system:String>
                            <system:String>Norwegian</system:String>
                        </elements:DropdownPicker.Options>
                    </elements:DropdownPicker>
                    <TextBlock Grid.Row="4" FontSize="14" FontWeight="SemiBold" Text="{DynamicResource InstallGamePopupLocation}" Foreground="white"/>

                    <TextBlock Grid.Row="6" x:Name="SelectLocationError" Margin="5" FontSize="14" FontWeight="SemiBold" Text="{DynamicResource InstallGamePopupNoDrive}" Foreground="red" Visibility="Collapsed" />
                    <Grid Grid.Row="6" x:Name="SelectLocationArea" Margin="5" Visibility="Visible">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="5"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0">
                            <TextBlock Text="{DynamicResource InstallGamePopupLocationAdvanced}" HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="White" FontSize="14" />
                            <generic:Toggleable x:Name="SelectLocationAdvancedToggle" HorizontalAlignment="Right" VerticalAlignment="Center" OnToggledChanged="OnAdvancedSettingsSwitched" Margin="5,0,0,0" />
                        </Grid>

                        <StackPanel Grid.Row="2" x:Name="SelectLocationSelectableList" Visibility="Visible" />
                        <Grid Grid.Row="2" x:Name="SelectLocationAdvancedArea" Visibility="Hidden" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0" Grid.RowSpan="2" Grid.Column="0">
                                <TextBlock x:Name="SelectedPathText" Text="" Foreground="White" FontSize="12" TextWrapping="Wrap"/>
                                <TextBlock x:Name="SelectedFreeSpaceText" Text="" Foreground="White" FontSize="11" Opacity="0.8"/>
                            </StackPanel>
                            <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource HiglightButton}" Click="OnSelectFolderClicked" HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="38"> <!-- same Height as "Selectable" element -->
                                <Path Fill="White" HorizontalAlignment="Center" Stretch="Uniform" Width="20" Data="M129.5 464L179.5 304L558.9 304L508.9 464L129.5 464zM320.2 512L509 512C530 512 548.6 498.4 554.8 478.3L604.8 318.3C614.5 287.4 591.4 256 559 256L179.6 256C158.6 256 140 269.6 133.8 289.7L112.2 358.4L112.2 160C112.2 151.2 119.4 144 128.2 144L266.9 144C270.4 144 273.7 145.1 276.5 147.2L314.9 176C328.7 186.4 345.6 192 362.9 192L480.2 192C489 192 496.2 199.2 496.2 208L544.2 208C544.2 172.7 515.5 144 480.2 144L362.9 144C356 144 349.2 141.8 343.7 137.6L305.3 108.8C294.2 100.5 280.8 96 266.9 96L128.2 96C92.9 96 64.2 124.7 64.2 160L64.2 448C64.2 483.3 92.9 512 128.2 512L320.2 512z"/>
                            </Button>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Grid.Column="0" Grid.Row="2" x:Name="ButtonAccept" Style="{StaticResource HiglightButton}" VerticalAlignment="Center" Click="OnInstallClicked" Width="150" Margin="0,0,10,0" Content="{DynamicResource GenericInstall}" IsEnabled="false" />
            <Button Grid.Column="1" Grid.Row="2" x:Name="ButtonCancel" Content="{DynamicResource GenericCancel}" VerticalAlignment="Center" Click="OnCancelClicked" Width="150"/>
        </StackPanel>
    </Grid>
</generic:PopupBody>
